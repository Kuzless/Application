<div class="d-flex rounded-3 bg-white inter-4 w-100 bg-success">
  <!--Images-->
  <div class="d-flex flex-column images p-3">
    <img
      class="w-100 h-75 rounded-3 pb-2"
      src="/booking/booking-element/images/temp.jpg"
    />
    <div class="d-flex w-100 h-25 rounded-3 gap-3">
      <img
        class="rounded-3 flex-fill object-fit-cover preview-image"
        src="/booking/booking-element/images/temp.jpg"
      />
      <img
        class="rounded-3 flex-fill object-fit-cover preview-image"
        src="/booking/booking-element/images/temp.jpg"
      />
      <img
        class="rounded-3 flex-fill object-fit-cover preview-image"
        src="/booking/booking-element/images/temp.jpg"
      />
      <img
        class="rounded-3 flex-fill object-fit-cover preview-image"
        src="/booking/booking-element/images/temp.jpg"
      />
    </div>
  </div>
  <!--Block that holds description-->
  <div class="d-flex flex-column w-100 p-3">
    <!--Description and button-->
    <!-- DONE -->
    <div class="d-flex pt-2 mb-2">
      <div class="w-75">
        <h2 class="inter-6">{{ booking?.roomType?.type }}</h2>
        <p class="text-muted">
          {{ booking?.roomType?.description }}
        </p>
      </div>
      <div class="d-flex flex-row-reverse w-25">
        <a
          class="btn btn-primary button d-flex align-items-center justify-content-center"
          >Book now</a
        >
      </div>
    </div>
    <!--Amenties and stuff-->
    <!-- DONE -->
    <div class="d-flex mb-4">
      <div class="w-50">
        <h5 class="inter-6">Amenities</h5>
        <ul class="d-flex gap-3 list-unstyled">
          <li
            *ngFor="let amenity of booking?.amenities"
            class="icon rounded-3 d-flex justify-content-center align-items-center"
          >
            <img [src]="iconsUrl + (amenity.name | formatIcon) + iconsFormat" />
          </li>
        </ul>
      </div>
      <div class="w-50">
        <!-- checking if it's open space -->
        <ng-container
          *ngIf="
            !booking?.roomCapacities || booking?.roomCapacities?.length === 0;
            else privateRoom
          "
        >
          <h5 class="inter-6">Availability</h5>
          <div class="d-flex">
            <div
              class="icon rounded-3 d-flex justify-content-center align-items-center"
            >
              <img [src]="iconsUrl + 'areaicon' + iconsFormat" />
            </div>
            <div>lorem ipsum</div>
          </div>
        </ng-container>
        <!-- or private room -->
        <ng-template #privateRoom>
          <h5 class="inter-6">Capacity options</h5>
          <div class="d-flex">
            <div
              class="icon rounded-3 d-flex justify-content-center align-items-center"
            >
              <img [src]="iconsUrl + 'roomicon' + iconsFormat" />
            </div>
            <div>lorem ipsum</div>
          </div>
        </ng-template>
      </div>
    </div>
    <!--Availability-->
    <ng-container
      *ngIf="booking?.roomCapacities && booking?.roomCapacities?.length !== 0"
    >
      <div class="mb-4">
        <h5 class="inter-6">Availability</h5>
        <ul class="list-unstyled d-flex flex-column gap-1">
          <li *ngFor="let roomCapacityInfo of booking?.roomCapacities">
            <span class="fw-semibold">
              {{ roomCapacityInfo.rooms.length }}
              {{ roomCapacityInfo.rooms.length > 1 ? "rooms " : "room " }}
            </span>
            <span class="text-muted">
              {{
                roomCapacityInfo.roomCapacity.capacity > 1
                  ? "for up to " +
                    roomCapacityInfo.roomCapacity.capacity +
                    " people"
                  : "for " + roomCapacityInfo.roomCapacity.capacity + " person"
              }}
            </span>
          </li>
        </ul>
      </div>
    </ng-container>
    <!--If user booked info-->
    <ng-container
      *ngIf="booking?.bookingInfos && booking?.bookingInfos?.length !== 0"
    >
      <div class="mb-2">
        <ul class="list-unstyled d-flex flex-column gap-2">
          <li
            *ngFor="let bookedInfo of booking?.bookingInfos"
            class="booked d-flex align-items-center px-3"
          >
            <!--Finding capacity of booked room-->
            <span *ngFor="let roomCapacityInfo of booking?.roomCapacities">
              <span
                *ngIf="
                  roomCapacityInfo.roomCapacity.id ===
                  bookedInfo.room.roomCapacityId
                "
              >
                <img [src]="'done' + iconsFormat" />
                <span
                  >This workspace is already booked by you! Room for
                  {{ roomCapacityInfo.roomCapacity.capacity }}
                  {{ roomCapacityInfo.roomCapacity.capacity }}</span
                >
                <span class="fw-semibold">
                  {{ bookedInfo.booking.startDate | date : "MMMM d, y" }} to
                  {{ bookedInfo.booking.endDate | date : "MMMM d, y" }}
                </span>
              </span>
            </span>
          </li>
        </ul>
      </div>
    </ng-container>
  </div>
</div>
